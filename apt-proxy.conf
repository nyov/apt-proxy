# Configuration for apt-proxy

# Change this path if you do not want to keep your cache under var
APT_PROXY_CACHE=/var/cache/apt-proxy

### Rsync Backends
# Three or more fields each:
# 1) URL prefix
# 2) Dir to put files in (remember the trailing /!)
# 3...) http/ftp/rsync backends to replace it with (remember the trailing /!)

# You can specify multiple backends like this:
#add_backend /main/					\
#	$APT_PROXY_CACHE/debian/			\
#	SERVERONE::debian/				\
#	SERVERTWO::debian/				\
#	SERVERTHREE::debian/

# HINT: Any request matching none of these is not served, making
# partial caching easy.
#
# You can also specify a different backend for control files
# by prefixing with a '+'.  This is particularly useful for
# using rsync for Packages and http/ftp for .deb/.tar.gzs
#
# This is a shell script and the backslashes at the end of
# the line denote that the line continues on the next line,
# so do not try to comment out one line without moving it!

# Debian main
#deb http://APTPROXY:9999/debian stable main contrib non-free
#deb http://APTPROXY:9999/debian woody main contrib non-free
#deb http://APTPROXY:9999/debian sarge main contrib non-free
#deb http://APTPROXY:9999/debian sid main contrib non-free
#deb http://APTPROXY:9999/debian project/experimental/main/binary-$(ARCH)/

add_backend /debian/					\
	$APT_PROXY_CACHE/debian/			\
	http://ftp.us.debian.org/debian/		\
	http://ftp.de.debian.org/debian/		\
	http://ftp.uk.debian.org/debian/		\
	+ftp.us.debian.org::debian/
	
# Debian non-US
#deb http://APTPROXY:9999/non-US stable/non-US main contrib non-free
#deb http://APTPROXY:9999/non-US woody/non-US main contrib non-free
#deb http://APTPROXY:9999/non-US sarge/non-US main contrib non-free
#deb http://APTPROXY:9999/non-US sid/non-US main contrib non-free

add_backend /non-US/					\
	$APT_PROXY_CACHE/non-US/			\
	http://non-us.debian.org/			\
	http://ftp.de.debian.org/debian-non-US/		\
	http://ftp.uk.debian.org/debian-non-US/		\
	+ftp.de.debian.org::debian-non-US/

# Debian security
#deb http://APTPROXY:9999/security stable/updates main contrib non-free
#deb http://APTPROXY:9999/security woody/updates main contrib non-free
#deb http://APTPROXY:9999/security sarge/updates main contrib non-free

add_backend /security/					\
	$APT_PROXY_CACHE/security/			\
	http://security.debian.org/			


# Here are some more examples:
#
#Emdebian project
# add_backend /emdebian/ 				\
#	$APT_PROXY_CACHE/emdebian/ 			\
#	http://emdebian.sourceforge.net/emdebian/
#
#Blackdown jave
# add_backend /blackdown/ 				\
#	$APT_PROXY_CACHE/blackdown/ 			\
#	http://ftp.gwdg.de/pub/languages/java/linux/debian/
#
#apt-proxy repository 
# see: http://apt-proxy.sourceforge.net/apt-proxy/README
# add_backend /apt-proxy/				\
#	$APT_PROXY_CACHE/apt-proxy/			\
#	http://apt-proxy.sourceforge.net/apt-proxy/
#
# openoffice.org packages
#deb http://APTPROXY:9999/openoffice unstable main contrib
#add_backend /openoffice/ $APT_PROXY_CACHE/openoffice/ http://openoffice.vpn-junkies.de/openoffice/

# KDE3
# deb http://APTPROXY:9999/kde3 /
#add_backend /kde3/ $APT_PROXY_CACHE/kde/ http://kde3.geniussystems.net/debian/

# people.debian.org
#deb http://shawnaptproxy:8000/debian-people/~njordan kde3.0/
#add_backend /debian-people/ $APT_PROXY_CACHE/people/ http://people.debian.org/

# Chain several apt-proxies
#for I in debian non-US security openoffice ; do
#  add_backend /$I/                                        \
#        $APT_PROXY_CACHE/$I/                    	\
#        http://OTHERHOST:9999/$I/
#done


############################## OTHER VARS ##################################
#	Automatically delete old debs when we download a newer one
#	after this many days of the older not being accessed.
#	Comment out to avoid, set to 0 for `instantly' (not recommended;
#	sometimes the new versions are broken
CLEANUP_DAYS=14

#	Once every n days, look through tree to erase and debs which
#	haven't been accessed in that long (eg. obsolete, rarely used, etc).
#	Comment out to disable.
CLEAN_SWEEP=60

#       Maximum number of versions of each package to keep in cache
#       directory.  Version purging is carried out immediately after a new
#       version is downloaded.
#	Comment out to disable.
MAX_VERSIONS=2

#	Maximum frequency of Packages/etc. updates from back end (minutes)
#	Keep high to speed things up.
BACKEND_FREQ=240

#	Number of seconds for rsync to wait before timing out.
RSYNC_TIMEOUT=30

#	Number of seconds for wget to wait to connect before timing out.
WGET_TIMEOUT=30

#       Uncomment to change the path to wget, or add extra options.  For
#       example, if you are behind a firewall that does not allow active
#       FTP, use WGET="wget --passive-ftp"
#WGET=wget

#       Uncomment to change the path to rsync or add extra options.
#RSYNC=rsync

#	Uncomment to keep stats of successful backend transfers in the log.
#KEEP_STATS=1

#	Uncomment this for debugging messages
#DEBUG=true
